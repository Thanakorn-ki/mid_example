<!DOCTYPE html>
<html ng-app="midone">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no" />
    <meta name="theme-color" content="#2196F3">
    <title>Midterm</title>
    <!-- CSS  -->
    <link href="min/plugin-min.css" type="text/css" rel="stylesheet">
    <link href="min/custom-min.css" type="text/css" rel="stylesheet">
    <script type="text/javascript" src="/js/angular.min.js"></script>
    <script type="text/javascript" src="app.js"></script>
</head>

<body id="top" class="scrollspy">
    <!-- Pre Loader -->
    <div ng-controller="midonecontron">
        <div id="loader-wrapper">
            <div id="loader"></div>
            <div class="loader-section section-left"></div>
            <div class="loader-section section-right"></div>
        </div>
        <!--Navigation-->
        <div class="navbar-fixed">
            <nav id="nav_f" class="default_color" role="navigation">
                <div class="container">
                    <div class="nav-wrapper">
                        <a href="#logo" id="logo-container" class="brand-logo">ร้านหนังสือ บ้านนายจิน</a>
                        <ul class="right hide-on-med-and-down" id="dropdown1">
                            <li><a href="#cart">ตะกร้าสินค้าของคุณ <span ng-show="sum" class="new badge">({{shownum}})</span></a></li>
                        </ul>
                        <ul id="nav-mobile" class="side-nav">
                            <li><a href="#cart">ตะกร้าสินค้าของคุณ {{shownum}}</a></li>
                        </ul>
                        <a href="#" data-activates="nav-mobile" class="button-collapse"><i class="mdi-navigation-menu"></i></a>
                    </div>
                </div>
            </nav>
        </div>
        <div class="section scrollspy" id="logo">
            <div class="container">
                <h2 class="header text_b">Books </h2>
                <div class="row">
                    <div ng-repeat="sour in data">
                        <div class="col s12 m7 l4">
                            <div class="card">
                                <div class="card-image waves-effect waves-block waves-light">
                                    <img class="activator" ng-src="{{sour.pic}}">
                                </div>
                                <div class="card-content">
                                    <span class="card-title activator grey-text text-darken-3">
                                <h6>{{sour.name}}</h6>
                                    </span>
                                    <p> {{sour.price}} บาท x {{sour.quantity}}
                                    </p>
                                    <p align="center">
                                        <div class="row">
                                            <div ng-show="sour.check">
                                                <div class="col s3">
                                                    <button class="btn btn-default" ng-click="clickAdd(sour)">Δ</button>
                                                </div>
                                                <div class="col s3">
                                                    <button class="btn btn-default" ng-click="clickRemove(sour)">∇</button>
                                                </div>
                                            </div>
                                            <div ng-hide="sour.check">
                                                <div class="col s3">
                                                    <button class="btn btn-default" onclick="Materialize.toast('อัพเดทแล้ว', 4000)" ng-click="clickAdd(sour)">Δ</button>
                                                </div>
                                                <div class="col s3">
                                                    <button class="btn btn-default" onclick="Materialize.toast('อัพเดทแล้ว', 4000)" ng-click="clickRemove(sour)">∇</button>
                                                </div>
                                            </div>
                                            <!-- /////////////////////////////////////////////////// -->
                                            <div class="col s6">
                                                <div ng-show="sour.check">
                                                    <button class="btn waves-effect waves-light" 
                                                    ng-if="sour.check" onclick="Materialize.toast('เพิ่มสิ้นเรียบร้อย', 4000)" ng-click="testclick(sour,$index)" name="action">
                                                        เพิ่มสินค้า
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="section scrollspy" id="cart">
                    <h2 class="header text_b">ตะกร้าสินค้าของคุณ </h2>
                    <div class="row">
                        <div ng-show="sum">
                            <blockquote>
                                รายการสินค้า
                            </blockquote>
                            <div ng-repeat="data in buy">
                                {{data.name}} จำนวน {{data.quantity}} รวม {{data.quantity*data.price}}
                            </div>
                            <br><br>
                                <button class="waves-effect waves-light btn modal-trigger" href="#modal1" ng-click="confirm()" name="action">
                                    ชำระเงิน
                                </button>
                            
                        </div>
                        <div ng-hide="sum">
                            <blockquote>
                                ยังไม่มีรายการสินค้า
                            </blockquote>
                        </div>
                        <!-- Modal Trigger -->
                        <!-- Modal Structure -->
                        <div id="modal1" class="modal bottom-sheet">
                            <div class="modal-content">
                                <h4>ยอดชำระ</h4>
                                <div ng-repeat="show in sumall">
                                    <p> รวม {{show.product}} เล่ม </p>
                                    <p> ราคารวม {{show.total}} บาท </p>
                                    <p> ส่วนลด {{show.sell}} บาท </p>
                                    <p> รวมสุทธิ {{show.sum}} บาท </p>
                                </div>
                            </div>
                            <div class="modal-footer">
                                <a href="#!" class=" modal-action modal-close waves-effect waves-green btn-flat">ปิด</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!--Parallax-->
        <div class="parallax-container">
            <div class="parallax"><img src="images/parallax1.png"></div>
        </div>
        <!--Footer-->
        <footer id="contact" class="page-footer default_color scrollspy">
            <div class="container">
                <div class="row">
                    <div class="col l6 s12">
                    </div>
                    <div class="col l3 s12">
                        <h5 class="white-text">ส่งอาจารย์ครับ</h5>
                        <ul>
                            <li><a class="white-text" href="">ขอบคุณที่ลองเล่นดู</a></li>
                            <li><a class="white-text" href="">ลองหลายๆรอบนะครับ มีบัคโปรดแจ้ง</a></li>
                        </ul>
                    </div>
                    <div class="col l3 s12">
                        <h5 class="white-text">Social</h5>
                        <ul>
                            <li>
                                <a class="white-text" href="https://www.facebook.com/Aum.chinjung">
                                    <i class="small fa fa-facebook-square white-text"></i> Facebook
                                </a>
                            </li>
                            <li>
                                <a class="white-text" href="https://github.com/salapao2136">
                                    <i class="small fa fa-github-square white-text"></i> Github
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="footer-copyright default_color">
                <div class="container">
                    Made by <a class="white-text" href="">Thanakorn</a>. Thanks to <a class="white-text" href="http://materializecss.com/">materializecss</a>
                </div>
            </div>
        </footer>
    </div>
    <!--  Scripts-->
    <script src="min/plugin-min.js"></script>
    <script src="min/custom-min.js"></script>
</body>

</html>
<script type="text/javascript">
$(document).ready(function() {
    // the "href" attribute of .modal-trigger must specify the modal ID that wants to be triggered
    $('.modal-trigger').leanModal({
        dismissible: true, // Modal can be dismissed by clicking outside of the modal
        opacity: .5, // Opacity of modal background
        in_duration: 300, // Transition in duration
        out_duration: 200, // Transition out duration
        ready: function() {
            // alert('Ready');
        }, // Callback for Modal open
        complete: function() {
                // alert('Closed');
            } // Callback for Modal close
    });
    $(".dropdown-button").dropdown();


});
</script>